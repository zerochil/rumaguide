<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="all.css">
		<link rel="stylesheet" href="index.css">
	</head>

	<body>

		<main>

			<section class="section hero">
				<heading>
					<p><span>—</span> Ваше идеальное путешествие в</p>
					<h1>Марокко</h1>
				</heading>
			</section>

			<section class="section excursions">
				<heading>
					<h2>Экскурсия</h2>
					<svg class="separator" style="fill:var(--dark-accent)">
						<use href="assets/svgs/separator2.svg#layer"></use>
					</svg>
					<p>Souks colorés, architecture maure, jardins intimes et hôtels boutiques… Marrakech est une ville inoubliable. Passez vos journées à explorer les cours intérieures paisibles, les ruelles tortueuses de la Médina historique</p>
				</heading>

				<div class="tabgroup">
					<div class="tab">
						<button class="tablinks selected" onclick="openCity(event)">Касабланка</button>
					</div>

					<div class="tabcontent" >
						<div class="slideshow">

							<div class="slides">
								<img class="slide visible" src="assets/images/casa1.jpg">
								<img class="slide" src="assets/images/casa2.jpg">
								<img class="slide" src="assets/images/casa3.jpg">
								<img class="slide" src="assets/images/casa4.webp">
							</div>

						<div class="slidecontrol">
							<button class="prev" onclick="triggerSlides(event)">❮</button>
							<button class="next" onclick="triggerSlides(event)">❯</button>
						</div>
						</div>
						<div class="about">
							<p>Касабланка</p>
							<h3>Обзорная экскурсия по касабланке</h3>
							<div class="meta">
								<p class="time">3 hours</p>
								<!-- <p class="price">300$</p> -->
							</div>
							<p>Основная достопримечательность</p>
							<ul>
								<li>Мечеть Хасана II расположенная в Марокко г.Касабланка, построенная на берегу Атлантического океана. экскурсия по гораду</li>
								<li>централный рынок</li>
								<li>Крепост Сакала</li>
								<li>Кафе Rick's</li>
								<li>визит мечеть хасан II</li>
								<li>Католический xрам Нотр-Дам де Лурд</li>
								<li>квартал хабус : дворец дар паша, королевский дворец</li>
								<li>Площадь Мохамед V</li>
								<li>Квартал виллы Анфа</li>
							</ul>
						</div>
					</div>


			</section>


			<footer class="section">
					<ul>
						<li><a href="#">Information</a></li>
						<li><a href="#">About Us</a></li>
						<li><a href="#">Contact US</a></li>
					</ul>
					<ul>
						<li>avianet@hotmail.com</li>
						<li>+212 64924910</li>
						<li><a href="#">Follow us</a></li>
					</ul>
					<div>
						<h2>rumaguide</h2>
						<svg class="separator">
							<use href="assets/svgs/separator2.svg#layer"></use>
						</svg>
					<div>
			</footer>

		</main>
		<script>
			const openCity = (e) => {
				const siblings = Array.from(e.target.parentNode.children);
				const order = siblings.indexOf(e.target);
				const tabContent = e.target.closest('.tabgroup').querySelectorAll('.tabcontent');
				tabContent.forEach( (e,i) => e.hidden = ( i != order) )
				siblings.forEach( (e,i) => e.classList.toggle('selected', i === order) )
			}
			const triggerSlides = (e, name=e.target.className) => {
				const visible = e.target.closest('.slideshow').querySelector('.slide.visible');
				const next = (name == 'prev')? visible.previousElementSibling : visible.nextElementSibling;
				if ( next == null ) return;
				visible.classList.remove("visible");
				next.classList.add("visible");
			}
			( () => { 
				let touchstartX = 0;
				let touchendX = 0;
						
				function checkDirection(e) {
					if (touchendX > touchstartX) triggerSlides(e, 'prev')
					if (touchendX < touchstartX) triggerSlides(e, 'next')
				}

				document.querySelectorAll('.slideshow').forEach( element => {
					element.addEventListener('touchstart', e => {
						touchstartX = e.changedTouches[0].screenX
					})

					element.addEventListener('touchend', e => {
						touchendX = e.changedTouches[0].screenX
						checkDirection(e)
					})
				})
			})();
		</script>
	</body>
</html>
