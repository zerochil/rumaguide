<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="all.css">
		<link rel="stylesheet" href="index.css">
		<link rel="icon" href="favicon.ico" type="image/x-icon">
		<title>Ruma марокко</title>
	</head>

	<body>

		<main>

			<section class="section hero">
				<heading>
					<p><span>—</span> Ваше идеальное путешествие в</p>
					<h1>Марокко</h1>
				</heading>
			</section>

			<section class="section excursions">
				<heading>
					<h2>Экскурсия</h2>
					<svg class="separator" style="fill:var(--dark-accent)">
						<use href="assets/svgs/separator2.svg#layer"></use>
					</svg>
				</heading>

				<div class="tabgroup">
					<div class="tab">
						<button class="tablinks selected" onclick="openCity(event)">Касабланка</button>
						<button class="tablinks" onclick="openCity(event)">рабат</button>
						<button class="tablinks" onclick="openCity(event)">Марракеш</button>
					</div>

					<div class="tabcontent" >
						<div class="slideshow">
							<div class="slides">
								<img class="slide visible" src="assets/images/casa1.jpg">
								<img class="slide" src="assets/images/casa2.jpg">
								<img class="slide" src="assets/images/casa3.jpg">
								<img class="slide" src="assets/images/casa4.webp">
							</div>
							<div class="slidecontrol">
								<button class="prev" onclick="triggerSlides(event)">❮</button>
								<button class="next" onclick="triggerSlides(event)">❯</button>
							</div>
						</div>
						<div class="about">
							<h3>Обзорная экскурсия по касабланке</h3>
							<div class="meta">
								<p class="time">3 часа</p>
							</div>
							<p><strong>Основная достопримечательность:</strong> Мечеть Хасана II расположенная в Марокко г.Касабланка, построенная на берегу Атлантического океана.</p>
							<h4>Обзорная экскурсия по городу</h4>
							<ul>
								<li>централный рынок</li>
								<li>Крепост Сакала</li>
								<li>Кафе Rick's</li>
								<li>визит мечеть хасан II</li>
								<li>Католический xрам Нотр-Дам де Лурд</li>
								<li>квартал хабус: дворец дар паша, королевский дворец</li>
								<li>Площадь Мохамед V</li>
								<li>Квартал виллы Анфа</li>
							</ul>
						</div>
					</div>

					<div class="tabcontent" hidden>
						<div class="slideshow">
							<div class="slides">
								<img class="slide visible" src="assets/images/rabat1.jpg">
								<img class="slide" src="assets/images/rabat2.jpg">
								<img class="slide" src="assets/images/rabat3.jpg">
								<img class="slide" src="assets/images/rabat4.jpg">
								<img class="slide" src="assets/images/rabat5.jpg">
								<img class="slide" src="assets/images/rabat6.jpg">
							</div>
							<div class="slidecontrol">
								<button class="prev" onclick="triggerSlides(event)">❮</button>
								<button class="next" onclick="triggerSlides(event)">❯</button>
							</div>
						</div>
						<div class="about">
							<h3>Обзорная экскурсия по Рабату</h3>
							<div class="meta">
								<p class="time">3 часа</p>
							</div>
							<p>Рабат, административная столица Марокко, построенная на берег Атлантического океана и реки Бурегрег. Внутри Крепость Удайя застроена панорамными жилыми домами с глухими бело-голубыми стенами.</p>
							<h4>Обзорная экскурсия по городу</h4>
							<ul>
								<li>Касба-де-Удайя</li>
								<li>андалузский сад</li>
								<li>площадка с видом на море</li>
								<li>некрополь шелла</li>
								<li>Мавзолей Мухаммеда V</li>
								<li>Башня Хасана</li>
								<li>Королевский дворец, Рабат</li>
							</ul>
						</div>
					</div>


					<div class="tabcontent" hidden>
						<div class="slideshow">
							<div class="slides">
								<img class="slide visible" src="assets/images/kech1.jpg">
								<img class="slide" src="assets/images/kech2.jpg">
								<img class="slide" src="assets/images/kech3.jpg">
								<img class="slide" src="assets/images/kech4.jpg">
								<img class="slide" src="assets/images/kech5.jpg">
								<img class="slide" src="assets/images/kech6.jpg">
								<img class="slide" src="assets/images/kech7.jpg">
								<img class="slide" src="assets/images/kech8.jpg">
								<img class="slide" src="assets/images/kech9.jpg">
							</div>
							<div class="slidecontrol">
								<button class="prev" onclick="triggerSlides(event)">❮</button>
								<button class="next" onclick="triggerSlides(event)">❯</button>
							</div>
						</div>
						<div class="about">
							<h3>Обзорная экскурсия по марракеше</h3>
							<div class="meta">
								<p class="time">4 часа</p>
							</div>
							<p>марракеш Берберские город расположенный в центральном марроко подножия атласких гор.</p>
							<h4>Экскурсия включает посещение мест:</h4>
							<ul>
								<li>ворот агнаои</li>
								<li>мавзолей саадить</li>
								<li>площадь малах</li>
								<li>дворец вахия</li>
								<li>по Базару до матраса бен уюсефа</li>
								<li>жамаа лафна</li>
								<li>мечеть кутубия</li>
								<li>менара</li>
								<li>мажорель</li>
							</ul>
						</div>
					</div>

				</div>

			</section>


			<footer class="section">
					<ul>
						<li><a href="#">Information</a></li>
						<li><a href="#">About Us</a></li>
						<li><a href="#">Contact US</a></li>
					</ul>
					<ul>
						<li>avianet@hotmail.com</li>
						<li>+212 64924910</li>
						<li><a href="#">Follow us</a></li>
					</ul>
					<div>
						<h2>rumaguide</h2>
						<svg class="separator">
							<use href="assets/svgs/separator2.svg#layer"></use>
						</svg>
					</div>
			</footer>

		</main>
		<script>
			const openCity = (e) => {
				const siblings = Array.from(e.target.parentNode.children);
				const order = siblings.indexOf(e.target);
				const tabContent = e.target.closest('.tabgroup').querySelectorAll('.tabcontent');
				tabContent.forEach( (e,i) => e.hidden = ( i != order) )
				siblings.forEach( (e,i) => e.classList.toggle('selected', i === order) )
			}
			const triggerSlides = (e, name=e.target.className) => {
				const visible = e.target.closest('.slideshow').querySelector('.slide.visible');
				const next = (name == 'prev')? visible.previousElementSibling : visible.nextElementSibling;
				if ( next == null ) return;
				visible.classList.remove("visible");
				next.classList.add("visible");
			}
			( () => { 
				let touchstartX = 0;
				let touchendX = 0;
						
				function checkDirection(e) {
					if (touchendX > touchstartX - 50) triggerSlides(e, 'prev')
					if (touchendX < touchstartX + 50) triggerSlides(e, 'next')
				}

				document.querySelectorAll('.slideshow').forEach( element => {
					element.addEventListener('touchstart', e => {
						console.log(e)
						touchstartX = e.changedTouches[0].screenX
					})

					element.addEventListener('touchend', e => {
						touchendX = e.changedTouches[0].screenX
						checkDirection(e)
					})
				})
			})();
		</script>
	</body>
</html>
